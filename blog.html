<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blog Page</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #f9f9f9;
  }
  h1 {
    text-align: center;
  }
  form {
    margin-bottom: 20px;
  }
  input[type="text"],
  textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
  }
  button {
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #0056b3;
  }
  .blog-item {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 10px;
    background-color: #fff;
  }
  .blog-item h2 {
    margin-top: 0;
  }
  .blog-item p {
    margin-bottom: 0;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Blog Page</h1>
  <form id="blog-form">
    <input type="hidden" id="blog-id">
    <input type="text" id="title" placeholder="Enter title" required>
    <textarea id="content" placeholder="Enter content" required></textarea>
    <button type="submit" id="submit-button">Submit</button>
  </form>
  <div id="blogs-container"></div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const blogForm = document.getElementById('blog-form');
  const titleInput = document.getElementById('title');
  const contentInput = document.getElementById('content');
  const blogsContainer = document.getElementById('blogs-container');
  let blogs = JSON.parse(localStorage.getItem('blogs')) || [];

  function renderBlogs() {
    blogsContainer.innerHTML = '';
    blogs.forEach(blog => {
      const blogElement = document.createElement('div');
      blogElement.classList.add('blog-item');
      blogElement.innerHTML = `
        <h2>${blog.title}</h2>
        <p>${blog.content}</p>
        <button class="edit-button" data-id="${blog.id}">Edit</button>
        <button class="delete-button" data-id="${blog.id}">Delete</button>
      `;
      blogsContainer.appendChild(blogElement);
    });
  }

  function addBlog(event) {
    event.preventDefault();
    const title = titleInput.value.trim();
    const content = contentInput.value.trim();
    if (title && content) {
      const blogId = parseInt(document.getElementById('blog-id').value);
      if (blogId) {
        const existingBlogIndex = blogs.findIndex(blog => blog.id === blogId);
        if (existingBlogIndex !== -1) {
          blogs[existingBlogIndex] = { id: blogId, title, content };
        }
      } else {
        const newBlogId = blogs.length > 0 ? blogs[blogs.length - 1].id + 1 : 1;
        blogs.push({ id: newBlogId, title, content });
      }
      localStorage.setItem('blogs', JSON.stringify(blogs));
      blogForm.reset();
      document.getElementById('blog-id').value = '';
      renderBlogs();
    }
  }

  function deleteBlog(event) {
    const blogId = parseInt(event.target.dataset.id);
    const confirmed = confirm('Are you sure you want to delete this blog?');
    if (confirmed) {
      blogs = blogs.filter(blog => blog.id !== blogId);
      localStorage.setItem('blogs', JSON.stringify(blogs));
      renderBlogs();
    }
  }

  function editBlog(event) {
    const blogId = parseInt(event.target.dataset.id);
    const blogToEdit = blogs.find(blog => blog.id === blogId);
    if (blogToEdit) {
      titleInput.value = blogToEdit.title;
      contentInput.value = blogToEdit.content;
      document.getElementById('blog-id').value = blogToEdit.id;
    }
  }

  blogForm.addEventListener('submit', addBlog);
  blogsContainer.addEventListener('click', function(event) {
    if (event.target.classList.contains('delete-button')) {
      deleteBlog(event);
    } else if (event.target.classList.contains('edit-button')) {
      editBlog(event);
    }
  });

  renderBlogs();
});
</script>
</body>
</html>
